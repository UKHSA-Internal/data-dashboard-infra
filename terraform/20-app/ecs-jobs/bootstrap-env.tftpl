{
  "cluster": "${cluster_arn}",
  "count": 1,
  "launchType": "FARGATE",
  "networkConfiguration": {
    "awsvpcConfiguration": {
      "subnets": ${jsonencode([for subnet_id in subnet_ids : "${subnet_id}"])},
      "securityGroups": [
        "${security_group_id}"
      ]
    }
  },
  "overrides": {
    "containerOverrides": [
      {
        "name": "api",
        "command": [
          "boot.sh",
          "${private_api_key}",
          "${cms_admin_user_password}"
        ]
      }
    ]
  },
  "taskDefinition": "${task_arn}"
}
